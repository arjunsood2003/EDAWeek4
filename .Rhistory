melt(yrNEI)
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
yrNEI
names(yrNEI) <- c("Year", "Emissions")
yrNEI
?hist
with(yrNEI,plot(Year, Emissions))
dev.cur()
with(yrNEI,hist(Year))
with(yrNEI,hist(Emissions))
?hist
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
with(yrNEI,plot(Year, Emissions))
title(main = "Total PM2.5 Emissions 1999-2008")
title(main = "Total pm2.5 Emissions 1999-2008")
with(yrNEI,plot(Year, Emissions))
title(main = "Total pm2.5 Emissions 1999-2008")
?png
png("plot1.png")
with(yrNEI,plot(Year, Emissions))
title(main = "Total pm2.5 Emissions 1999-2008")
dev.off()
png("plot1.png")
with(yrNEI,plot(Year, Emissions))
title(main = "Total pm2.5 Emissions USA 1999-2008")
dev.off()
?plot
dev.cur()
dev.new()
dev.cur()
?xlim
with(yrNEI,plot(Year, Emissions, xlim = c(1998,2009)))
?plot
with(yrNEI,plot(Year, Emissions, type = "h"))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 4))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 10))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(4))
par(lab = c(x = 4))
par(lab = c(4,5,7))
par(lab = c(8,5,7))
par(xaxs = "i")
par(xaxs = "r")
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(4,5,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(9,5,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(10,5,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(xaxs = "i")
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(xaxs = "r")
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex = 0.75)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par()
par(lab = c(8,5,7), cex.axis = 0.75)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex.axis = 0.75, cex = 1)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex.axis = 0.7, cex = 1)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex.axis = 0.6, cex = 1)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex.axis = 0.5, cex = 1)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex = 1, xaxp = c(1998,2009,6))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex = 1, xaxp = c(1998,2008,6))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex = 1)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,5,7), cex = 1, cex.axis = 1)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(8,8,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(5,5,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(6,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
par(lab = c(7,6,7), cex.axis = 0.8)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
png("plot1.png")
par(lab = c(7,6,7), cex.axis = 0.8)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
dev.off()
png("plot1.png")
par(lab = c(7,6,7), cex.axis = 0.9)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
dev.off()
png("plot1.png")
par(lab = c(7,6,7), cex.axis = 1)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
dev.off()
png("plot1.png")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
dev.off()
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
png("plot1.png")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
dev.off()
str(NEI)
balNEI<- subset(NEI, NEI$fips == "24510")
yrNEI <- melt(with(balNEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions Baltimore 1999-2008")
png("plot2.png")
#Tweaking x-axis so all years are clearly annotated
par(lab = c(7,6,7))
#Plotting emissions for each year with wide histogram-like bars
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions Baltimore 1999-2008")
dev.off()
dev.cur()
View(head(NEI,6))
str(NEI$type)
unique(NEI$type)
unique(NEI$Pollutant)
yrNEIavg <- melt(with(balNEI,tapply(Emissions,year,mean)))
names(yrNEIavg) <- c("Year", "Emissions")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions Baltimore 1999-2008")
par(lab = c(7,6,7))
with(yrNEIavg,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions Baltimore 1999-2008")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions Baltimore 1999-2008")
par(lab = c(7,6,7))
with(yrNEIavg,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions Baltimore 1999-2008")
with(yrNEIavg,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions Baltimore 1999-2008")
View(head(SCC,6))
?ggplot2
library("ggplot2", lib.loc="~/R/R-3.4.0/library")
?ggplot2
unique(SCC$Short.Name)
unique(SCC$EI.Sector)
unique(SCC$Option.Group)
unique(SCC$Option.Set)
unique(SCC$SCC.Level.One)
unique(SCC$SCC.Level.Two)
unique(SCC$SCC.Level.Three)
head(unique(SCC$SCC.Level.Three),10)
unique(SCC$SCC.Level.One)
unique(SCC$Short.Name)
unique(SCC$EI.Sector)
swirl()
x
x[1:10]
x[is.na(x)]
y <- x[!is.na(x)]
y
y[y > 0]
x[x > 0]
x[!is.na(x) & x > 0]\
x[!is.na(x) & x > 0]
sdsd
sd
c(3, 5, 7)
x[c(3, 5, 7)]
x[0]
x[3000]
x[c(-2, -10)]
x[-c(2,10)]
vect <- c(foo = 11, bar = 2, norf = NA)
vect
names()
names(vect)
vect2 <- x{c(11, 2, NA)}
vect2 <- x[{]c(11, 2, NA)]
vect2 <- x[c(11, 2, NA)]
vect2 <- c(11, 2, NA)
names(vect2) <- c("foo",
| "bar", "norf")
names(vect2) <- c("foo",
"bar", "norf")
identical(vect,vect2)
vect["bar"]
vect[c("foo", "bar")]
unique(SCC$EI.Sector)
coalSCC<- subset(SCC$SCC, SCC$EI.Sector %in%
c("Fuel Comb - Electric Generation - Coal", "Fuel Comb - Industrial Boilers, ICEs - Coal", "Fuel Comb - Comm/Institutional - Coal"))
unique(coalSCC)
str(coalSCC)
coalNEI<- subset(NEI, NEI$SCC %in% coalSCC)
unique(coalNEI$SCC)
str(coalNEI)
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Coal Combustion Emissions")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Coal-related pm2.5 Emissions USA 1999-2008")
with(yrNEI,plot(Year, Coal_Emissions, type = "h", lwd = 5))
title(main = "Coal-related pm2.5 Emissions USA 1999-2008")
names(yrNEI) <- c("Year", "Coal_Emissions")
with(yrNEI,plot(Year, Coal_Emissions, type = "h", lwd = 5))
title(main = "Coal-related pm2.5 Emissions USA 1999-2008")
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(10,6,7))
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(10,6,7), cex.lab = 0.7)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
yrNEI <- melt(with(NEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(10,6,7), cex.axis = 0.7)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(10,6,7), cex.axis = 0.8)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(10,6,7), cex.axis = 0.75)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(10,6,7), cex.axis = 0.75, cex.lab = 0.9)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(10,6,7), cex.axis = 0.7, cex.lab = 0.9)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
names(yrNEI) <- c("Year", "Emissions")
par(lab = c(7,6,7), cex.axis = 0.7, cex.lab = 0.9)
with(yrNEI,plot(Year, Emissions, type = "h", lwd = 5))
title(main = "Total pm2.5 Emissions USA 1999-2008")
yrNEI <- melt(with(balNEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Emissions")
qplot(Year, Emissions, data = yrNEI, facets = .~type)
View(head(yrNEI,5))
balNEI<- subset(NEI, NEI$fips == "24510")
#Derived sum of emissions for each year
yrNEI <- melt(with(balNEI,tapply(Emissions,year,sum)))
View(head(yrNEI,5))
View(head(balNEI,5))
names(yrNEI) <- c("Year", "Emissions")
View(head(yrNEI,5))
names(yrNEI) <- c("year", "Emissions")
View(head(yrNEI,5))
qplot(year, Emissions, data = balNEI, facets = .~type)
testNEI <- with(balNEI,tapply(Emissions,list(year,type), sum)))
testNEI <- with(balNEI,tapply(Emissions,list(year,type), sum))
View(head(testNEI, 10))
testNEI <- with(balNEI,tapply(Emissions,c(year,type), sum))
testNEI <- with(balNEI,tapply(Emissions,year, type, sum))
library(dplyr)
dplyrNEI <- balNEI %>% group_by(type,year) %>% summarise(Emissions = sum(Emissions))
View(head(dplyrNEI,10))
qplot(year, Emissions, data = typeNEI, facets = .~type)
qplot(year, Emissions, data = dplyrNEI, facets = .~type)
View(head(dplyrNEI,15))
View(head(dplyrNEI,20))
qplot(year, Emissions, data = dplyrNEI, facets = type~.)
qplot(year, Emissions, data = dplyrNEI, facets = type~., geom = c("point", "smooth"))
qplot(year, Emissions, data = dplyrNEI, facets = type~., geom = c("point", "smooth"), main = "Total pm2.5 Emissions Baltimore 1999-2008")
qplot(year, Emissions, data = dplyrNEI, facets = type~., geom = c("point", "smooth"), main = "Baltimore Emissions by type 1999-2008")
typeNEI <- balNEI %>% group_by(type,year) %>% summarise(Emissions = sum(Emissions))
#Set plot destination
png("plot3.png")
#Plotting emissions for each type; Adding trend lines; Adding title
qplot(year, Emissions, data = typeNEI, facets = type~., geom = c("point", "smooth"), main = "Baltimore Emissions by type 1999-2008")
dev.off()
grep("Coal", SCC$EI.Sector)
grep("Coal", SCC$EI.Sector, value = TRUE)
coalSCC<- subset(SCC$SCC, SCC$EI.Sector %in%
c("Fuel Comb - Electric Generation - Coal", "Fuel Comb - Industrial Boilers, ICEs - Coal", "Fuel Comb - Comm/Institutional - Coal"))
coalNEI<- subset(NEI, NEI$SCC %in% coalSCC)
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Coal_Emissions")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Coal_Emissions, type = "h", lwd = 5))
title(main = "Coal-related pm2.5 Emissions USA 1999-2008")
coalSCC<- subset(SCC$SCC, SCC$EI.Sector %in% grep("Coal", SCC$EI.Sector, value = TRUE))
coalNEI<- subset(NEI, NEI$SCC %in% coalSCC)
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Coal_Emissions")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Coal_Emissions, type = "h", lwd = 5))
title(main = "Coal-related pm2.5 Emissions USA 1999-2008")
coalSCC<- subset(SCC$SCC, grep("Coal", SCC$EI.Sector))
coalNEI<- subset(NEI, NEI$SCC %in% coalSCC)
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
names(yrNEI) <- c("Year", "Coal_Emissions")
par(lab = c(7,6,7))
with(yrNEI,plot(Year, Coal_Emissions, type = "h", lwd = 5))
title(main = "Coal-related pm2.5 Emissions USA 1999-2008")
coalSCC<- subset(SCC$SCC, SCC$EI.Sector %in% grep("Coal", SCC$EI.Sector, value = TRUE))
#Subset for only coal combustion data
coalNEI<- subset(NEI, NEI$SCC %in% coalSCC)
#Derived sum of emissions for each year
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(yrNEI) <- c("Year", "Coal_Emissions")
#Set plot destination
png("plot4.png")
#Tweaking x-axis so all years are clearly annotated
par(lab = c(7,6,7))
#Plotting emissions for each year with wide histogram-like bars
with(yrNEI,plot(Year, Coal_Emissions, type = "h", lwd = 5))
title(main = "Coal-related pm2.5 Emissions USA 1999-2008")
dev.off()
unique(SCC$EI.Sector)
unique(SCC$SCC.Level.One)
unique(SCC$SCC.Level.Two)
coalSCC<- subset(SCC$SCC, SCC$SCC.Level.Two %in% grep("Vehicle", SCC$SCC.Level.Two, value = TRUE))
coalSCC
coalNEI
str(SCC)
#Retrieve SCC codes for coal combustion data
coalSCC<- subset(SCC$SCC, SCC$SCC.Level.One %in% grep("Mobile", SCC$SCC.Level.One, value = TRUE))
#Subset for only coal combustion and Baltimore data
coalNEI<- subset(NEI, (NEI$SCC %in% coalSCC) & (NEI$fips = "24510"))
#Derived sum of emissions for each year
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(yrNEI) <- c("year", "Emissions")
coalNEI<- subset(NEI, NEI$SCC %in% coalSCC & NEI$fips = "24510")
coalNEI<- subset(NEI, NEI$fips = "24510" & NEI$SCC %in% coalSCC)
coalNEI<- subset(NEI, NEI$fips == "24510" & NEI$SCC %in% coalSCC)
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(yrNEI) <- c("year", "Emissions")
par(lab = c(7,6,7))
#Plotting emissions for each year with wide histogram-like bars
with(yrNEI,plot(year, Emissions, type = "h", lwd = 5))
title(main = "Total Baltimore motor vehicle Emissions 1999-2008")
coalSCC<- subset(SCC$SCC, SCC$SCC.Level.One %in% grep("Mobile", SCC$SCC.Level.One, value = TRUE))
#Subset for only coal combustion and Baltimore data
coalNEI<- subset(NEI, NEI$fips == "24510" & NEI$SCC %in% coalSCC)
#Derived sum of emissions for each year
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(yrNEI) <- c("year", "Emissions")
#Set plot destination
png("plot5.png")
#Tweaking x-axis so all years are clearly annotated
par(lab = c, cex.axis = 0.7)
#Plotting emissions for each year with wide histogram-like bars
with(yrNEI,plot(year, Emissions, type = "h", lwd = 5))
title(main = "Total Baltimore motor vehicle Emissions 1999-2008")
dev.off()
coalSCC<- subset(SCC$SCC, SCC$SCC.Level.One %in% grep("Mobile", SCC$SCC.Level.One, value = TRUE))
#Subset for only coal combustion and Baltimore data
coalNEI<- subset(NEI, NEI$fips == "24510" & NEI$SCC %in% coalSCC)
#Derived sum of emissions for each year
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(yrNEI) <- c("year", "Emissions")
#Set plot destination
png("plot5.png")
#Tweaking x-axis so all years are clearly annotated
par(lab = c, cex.axis = 0.6)
#Plotting emissions for each year with wide histogram-like bars
with(yrNEI,plot(year, Emissions, type = "h", lwd = 5))
title(main = "Total Baltimore motor vehicle Emissions 1999-2008")
dev.off()
coalSCC<- subset(SCC$SCC, SCC$SCC.Level.One %in% grep("Mobile", SCC$SCC.Level.One, value = TRUE))
#Subset for only coal combustion and Baltimore data
coalNEI<- subset(NEI, NEI$fips == "24510" & NEI$SCC %in% coalSCC)
#Derived sum of emissions for each year
yrNEI <- melt(with(coalNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(yrNEI) <- c("year", "Emissions")
#Set plot destination
png("plot5.png")
#Tweaking x-axis so all years are clearly annotated
par(lab = c(7,6,7), cex.axis = 0.7)
#Plotting emissions for each year with wide histogram-like bars
with(yrNEI,plot(year, Emissions, type = "h", lwd = 5))
title(main = "Total Baltimore motor vehicle Emissions 1999-2008")
dev.off()
png("plot5.png")
#Tweaking x-axis so all years are clearly annotated
par(lab = c(7,6,7), cex.axis = 0.8)
#Plotting emissions for each year with wide histogram-like bars
with(yrNEI,plot(year, Emissions, type = "h", lwd = 5))
title(main = "Total Baltimore motor vehicle Emissions 1999-2008")
dev.off()
#Retrieve SCC codes for mobile (vehicular) data
vehicleSCC<- subset(SCC$SCC, SCC$SCC.Level.One %in% grep("Mobile", SCC$SCC.Level.One, value = TRUE))
##Baltimore
#Subset for only vehicular Baltimore data
balvehicleNEI<- subset(NEI, NEI$fips == "24510" & NEI$SCC %in% vehicleSCC)
#Derived sum of emissions for each year
balyrNEI <- melt(with(balvehicleNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(balyrNEI) <- c("year", "Emissions")
##Los Angeles County
#Subset for only vehicular LA County data
lacvehicleNEI<- subset(NEI, NEI$fips == "06037" & NEI$SCC %in% vehicleSCC)
#Derived sum of emissions for each year
lacyrNEI <- melt(with(lacvehicleNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(lacyrNEI) <- c("year", "Emissions")
#Set plot destination
#png("plot6.png")
#Tweaking x-axis so all years are clearly annotated
par(lab = c(7,6,7), cex.axis = 0.8)
par(mfcol = c(1,2))
#Plotting emissions for each year with wide histogram-like bars
with(balyrNEI,plot(year, Emissions, type = "h", lwd = 5))
title(main = "Baltimore vehicle Emissions 99-08")
with(lacyrNEI,plot(year, Emissions, type = "h", lwd = 5))
title(main = "Los Angeles County vehicle Emissions 99-08")
#Tweaking x-axis so all years are clearly annotated
par(lab = c(7,6,7), cex.axis = 0.8)
par(mfcol = c(1,2))
#Plotting emissions for each year with wide histogram-like bars
with(balyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Baltimore vehicle Emissions 99-08")
with(lacyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Los Angeles County vehicle Emissions 99-08")
par(lab = c(7,6,7), cex.axis = 0.7, cex.main = 0.7)
par(mfcol = c(1,2))
#Plotting emissions for each year with wide histogram-like bars
with(balyrNEI,plot(year, log(Emissions), type = "h", lwd = 5, ylim = c(5,10)))
title(main = "Baltimore vehicle Emissions 99-08")
with(lacyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Los Angeles County vehicle Emissions 99-08")
par(lab = c(7,6,7), cex.axis = 0.7, cex.main = 0.7)
par(mfcol = c(1,2))
#Plotting emissions for each year with wide histogram-like bars
with(balyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Baltimore vehicle Emissions 99-08")
with(lacyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Los Angeles County vehicle Emissions 99-08")
par(lab = c(7,6,7), cex.axis = 0.7, cex.main = 0.7)
par(mfcol = c(1,2))
#Plotting emissions for each year with wide histogram-like bars
with(balyrNEI,plot(year, log(Emissions), type = "h", lwd = 5, ylim=c(6,9.7)))
title(main = "Baltimore vehicle Emissions 99-08")
with(lacyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Los Angeles County vehicle Emissions 99-08")
par(lab = c(7,6,7), cex.axis = 0.7, cex.main = 0.7)
par(mfcol = c(1,2))
#Plotting emissions for each year with wide histogram-like bars
with(balyrNEI,plot(year, log(Emissions), type = "h", lwd = 5, ylim=c(6,9.7)))
title(main = "Baltimore vehicle Emissions 99-08")
with(lacyrNEI,plot(year, log(Emissions), type = "h", lwd = 5, ylim=c(6,9.7)))
title(main = "Los Angeles County vehicle Emissions 99-08")
par(lab = c(7,6,7), cex.axis = 0.7, cex.main = 0.7)
par(mfcol = c(1,2))
#Plotting emissions for each year with wide histogram-like bars
with(balyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Baltimore vehicle Emissions")
with(lacyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Los Angeles vehicle Emissions")
vehicleSCC<- subset(SCC$SCC, SCC$SCC.Level.One %in% grep("Mobile", SCC$SCC.Level.One, value = TRUE))
##Baltimore
#Subset for only vehicular Baltimore data
balvehicleNEI<- subset(NEI, NEI$fips == "24510" & NEI$SCC %in% vehicleSCC)
#Derived sum of emissions for each year
balyrNEI <- melt(with(balvehicleNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(balyrNEI) <- c("year", "Emissions")
##Los Angeles County
#Subset for only vehicular LA County data
lacvehicleNEI<- subset(NEI, NEI$fips == "06037" & NEI$SCC %in% vehicleSCC)
#Derived sum of emissions for each year
lacyrNEI <- melt(with(lacvehicleNEI,tapply(Emissions,year,sum)))
#Naming columns of table correctly
names(lacyrNEI) <- c("year", "Emissions")
#Set plot destination
png("plot6.png")
#Tweaking x-axis so all years are clearly annotated
par(lab = c(7,6,7), cex.axis = 0.7, cex.main = 0.8)
par(mfcol = c(1,2))
#Plotting emissions for each year with wide histogram-like bars
with(balyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Baltimore vehicle Emissions")
with(lacyrNEI,plot(year, log(Emissions), type = "h", lwd = 5))
title(main = "Los Angeles vehicle Emissions")
dev.off()
